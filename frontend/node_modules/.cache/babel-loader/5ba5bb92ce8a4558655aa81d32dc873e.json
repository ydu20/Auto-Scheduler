{"ast":null,"code":"import _asyncToGenerator from\"/Users/ydu25/Documents/Visual Studio/auto_schedule/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/ydu25/Documents/Visual Studio/auto_schedule/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/ydu25/Documents/Visual Studio/auto_schedule/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from'react';import SearchCourseItem from'./searchCourseItem';import{jsx as _jsx}from\"react/jsx-runtime\";var SearchList=function SearchList(_ref){var searchQuery=_ref.searchQuery;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),results=_useState2[0],setResults=_useState2[1];useEffect(function(){var query=searchQuery.toLowerCase();getResults(query);},[searchQuery]);var getResults=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(query){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(query.length>=3)){_context.next=13;break;}_context.next=3;return fetch('http://127.0.0.1:8000/api/search/'+query);case 3:response=_context.sent;console.log(response);_context.next=7;return response.json();case 7:data=_context.sent;console.log(data);data.sort(function(a,b){return a.id.localeCompare(b.id);});setResults(data);_context.next=14;break;case 13:setResults([]);case 14:case\"end\":return _context.stop();}}},_callee);}));return function getResults(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"search-results\",children:/*#__PURE__*/_jsx(\"div\",{children:results.map(function(course,index){return/*#__PURE__*/_jsx(SearchCourseItem,{course:course},index);})})});};export default SearchList;","map":{"version":3,"sources":["/Users/ydu25/Documents/Visual Studio/auto_schedule/frontend/src/components/SearchList.js"],"names":["React","useEffect","useState","SearchCourseItem","SearchList","searchQuery","results","setResults","query","toLowerCase","getResults","length","fetch","response","console","log","json","data","sort","a","b","id","localeCompare","map","course","index"],"mappings":"sbAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,C,2CAEA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,MAAqB,IAAlBC,CAAAA,WAAkB,MAAlBA,WAAkB,CAEpC,cAA4BH,QAAQ,CAAC,EAAD,CAApC,wCAAKI,OAAL,eAAcC,UAAd,eAEAN,SAAS,CAAC,UAAM,CACZ,GAAIO,CAAAA,KAAK,CAAGH,WAAW,CAACI,WAAZ,EAAZ,CACAC,UAAU,CAACF,KAAD,CAAV,CACH,CAHQ,CAGN,CAACH,WAAD,CAHM,CAAT,CAKA,GAAIK,CAAAA,UAAU,2FAAG,iBAAOF,KAAP,yIACTA,KAAK,CAACG,MAAN,EAAgB,CADP,iDAEYC,CAAAA,KAAK,CAAC,oCAAsCJ,KAAvC,CAFjB,QAELK,QAFK,eAGTC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EAHS,sBAIQA,CAAAA,QAAQ,CAACG,IAAT,EAJR,QAILC,IAJK,eAKTH,OAAO,CAACC,GAAR,CAAYE,IAAZ,EACAA,IAAI,CAACC,IAAL,CAAU,SAACC,CAAD,CAAIC,CAAJ,CAAU,CAChB,MAAQD,CAAAA,CAAC,CAACE,EAAF,CAAKC,aAAL,CAAmBF,CAAC,CAACC,EAArB,CAAR,CACH,CAFD,EAGAd,UAAU,CAACU,IAAD,CAAV,CATS,+BAWTV,UAAU,CAAC,EAAD,CAAV,CAXS,uDAAH,kBAAVG,CAAAA,UAAU,6CAAd,CAgBA,mBACI,YAAK,SAAS,CAAG,gBAAjB,uBACI,qBACCJ,OAAO,CAACiB,GAAR,CAAY,SAACC,MAAD,CAASC,KAAT,qBACL,KAAC,gBAAD,EAAgC,MAAM,CAAID,MAA1C,EAAyBC,KAAzB,CADK,EAAZ,CADD,EADJ,EADJ,CAWH,CApCD,CAsCA,cAAerB,CAAAA,UAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport SearchCourseItem from './searchCourseItem'\n\nconst SearchList = ( {searchQuery} ) => {\n\n    let [results, setResults] = useState([])\n\n    useEffect(() => {\n        let query = searchQuery.toLowerCase();\n        getResults(query)\n    }, [searchQuery])\n\n    let getResults = async (query) => {\n        if (query.length >= 3) {\n            let response = await fetch('http://127.0.0.1:8000/api/search/' + query)\n            console.log(response)\n            let data = await response.json()\n            console.log(data)\n            data.sort((a, b) => {\n                return (a.id.localeCompare(b.id))\n            })\n            setResults(data)\n        } else {\n            setResults([])\n        }\n        \n    }\n\n    return (\n        <div className = \"search-results\">\n            <div>\n            {results.map((course, index) => (\n                    <SearchCourseItem key = {index} course = {course} />\n                ))}\n            </div>\n        </div>\n    )\n        \n    \n}\n\nexport default SearchList;"]},"metadata":{},"sourceType":"module"}